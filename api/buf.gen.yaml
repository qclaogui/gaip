version: v1
managed:
  enabled: true
#  go_package_prefix:
#    default: github.com/qclaogui/golang-api-server/api/gen

plugins:
  # # Usage with remote plugins
  # - plugin: go
  #   out: gen/proto
  #   opt:
  #   - paths=source_relative
  #   # path: /usr/local/bin/protoc-gen-go
  #   # protoc_path: /usr/local/bin/protoc

  # - plugin: go-grpc
  #   out: gen/proto
  #   opt:
  #   - paths=source_relative
  #   - require_unimplemented_servers=false

  # - plugin: grpc-gateway
  #   out: gen/proto
  #   opt:
  #   - paths=source_relative
  #   - generate_unbound_methods=true

  # - plugin: openapiv2
  #   out: ../third_party/gen/openapiv2
  #   opt:
  #   - logtostderr=true
  #   - generate_unbound_methods=true

  # Usage with remote plugins
  - plugin: buf.build/protocolbuffers/go:v1.31.0
    out: gen/proto
    opt:
    - paths=source_relative

  - plugin: buf.build/grpc/go:v1.3.0
    out: gen/proto
    opt:
    - paths=source_relative
    - require_unimplemented_servers=false

  - plugin: buf.build/grpc-ecosystem/gateway:v2.17.1
    out: gen/proto
    opt:
    - paths=source_relative
    - logtostderr=true
    - generate_unbound_methods=true

  - plugin: buf.build/grpc-ecosystem/openapiv2:v2.17.1
    out: ../third_party/gen/openapiv2
    opt:
    - logtostderr=true
    - generate_unbound_methods=true

#  - plugin: buf.build/connectrpc/go
#    out: gen/proto
#    opt: paths=source_relative